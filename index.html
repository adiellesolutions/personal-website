<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Coastal Sanctuary - Your Dreamy Pastel Escape ðŸŒ¸</title>
    <meta name="description" content="Step into my coastal pastel sanctuary - a dreamy space for blog posts, travel diaries, study tips, and aesthetic vibes âœ¨" />
    <meta name="author" content="Coastal Sanctuary" />
    <meta name="color-scheme" content="light dark" />

    <meta property="og:title" content="Coastal Sanctuary - Your Dreamy Pastel Escape ðŸŒ¸" />
    <meta property="og:description" content="Step into my coastal pastel sanctuary - a dreamy space for blog posts, travel diaries, study tips, and aesthetic vibes âœ¨" />
    <meta property="og:type" content="website" />
    <meta property="og:image" content="https://lovable.dev/opengraph-image-p98pqg.png" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@coastal_sanctuary" />
    <meta name="twitter:image" content="https://lovable.dev/opengraph-image-p98pqg.png" />

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@300;400;500;600;700&family=Pacifico&family=Satisfy&display=swap" rel="stylesheet">

    <!-- 1) Set theme BEFORE first paint + tag explicit user choice -->
    <script>
      (function () {
        try {
          var stored = localStorage.getItem("theme") || localStorage.getItem("color-theme");
    
          // NEW: map theme-pill â†’ theme if theme is missing
          if (!stored) {
            var pill = localStorage.getItem("theme-pill"); // "morning" | "evening"
            if (pill === "evening") stored = "dark";
            else if (pill === "morning") stored = "light";
          }
    
          var hasUserChoice = stored === "light" || stored === "dark";
          var prefersDark = window.matchMedia("(prefers-color-scheme: dark)").matches;
          var isDark = hasUserChoice ? stored === "dark" : prefersDark;
    
          if (hasUserChoice) {
            document.documentElement.setAttribute("data-user-theme", stored);
          } else {
            document.documentElement.removeAttribute("data-user-theme");
          }
    
          document.documentElement.classList.toggle("dark", isDark);
        } catch (_) {}
      })();
    </script>
    
    <!-- 2) Critical loader CSS (no lightâ†’dark flip, OS fallback only if no user choice) -->
    <style>
      /* Only animate hiding */
      #loading-screen { transition: opacity .5s ease-out, visibility .5s ease-out; }
      #loading-screen.hidden { opacity: 0; visibility: hidden; }
    
      /* LIGHT theme (wins only when .dark is NOT present) */
      html:not(.dark) #loading-screen {
        background: linear-gradient(135deg, #E6F3F5 0%, #FFE8E8 50%, #F5E6FF 100%);
      }
      html:not(.dark) #loading-screen .loading-text { color: #7E69AB; }
      html:not(.dark) #loading-screen .wave {
        background: linear-gradient(135deg, #9b87f5, #7E69AB);
        box-shadow: 0 6px 16px rgba(123, 97, 196, .25);
      }
      html:not(.dark) #loading-screen .stars span { background: rgba(255,255,255,.6); }
    
      /* OS dark fallback ONLY when there's NO explicit user choice */
      @media (prefers-color-scheme: dark) {
        html:not([data-user-theme]):not(.dark) #loading-screen {
          background:
            radial-gradient(1200px 600px at 20% 20%, rgba(255,255,255,.06), transparent 60%),
            radial-gradient(1000px 600px at 80% 80%, rgba(255,255,255,.04), transparent 60%),
            linear-gradient(135deg, #0f1423 0%, #1b2136 45%, #241f3a 100%);
        }
        html:not([data-user-theme]):not(.dark) #loading-screen .loading-text { color: hsl(50 100% 92%); }
        html:not([data-user-theme]):not(.dark) #loading-screen .wave {
          background: linear-gradient(135deg, hsl(230 30% 74%), hsl(230 55% 68%));
          box-shadow: 0 8px 18px rgba(120, 145, 255, .28);
        }
        html:not([data-user-theme]):not(.dark) #loading-screen .stars span { background: rgba(255,255,255,.75); }
      }
    
      /* DARK theme (immediate when html.dark is present) */
      html.dark #loading-screen {
        background:
          radial-gradient(1200px 600px at 20% 20%, rgba(255,255,255,.06), transparent 60%),
          radial-gradient(1000px 600px at 80% 80%, rgba(255,255,255,.04), transparent 60%),
          linear-gradient(135deg, #0f1423 0%, #1b2136 45%, #241f3a 100%);
      }
      html.dark #loading-screen .loading-text { color: hsl(50 100% 92%); }
      html.dark #loading-screen .wave {
        background: linear-gradient(135deg, hsl(230 30% 74%), hsl(230 55% 68%));
        box-shadow: 0 8px 18px rgba(120, 145, 255, .28);
      }
      html.dark #loading-screen .stars span { background: rgba(255,255,255,.75); }
    
      /* Shared visuals */
      #loading-screen { position: fixed; inset: 0; display:flex; align-items:center; justify-content:center; z-index:9999; }
      .loader-container { text-align:center; }
      .wave-loader { display:flex; gap:8px; justify-content:center; margin-bottom:20px; }
    
      /* === Wavy motion effect (replaces the old .wave animation) === */
      .wave {
        width:12px; height:40px; border-radius:10px;
        transform-origin: bottom center;
        animation: waveMove 1.2s cubic-bezier(0.45, 0, 0.55, 1) infinite;
      }
      /* Staggered delays to create the rolling wave */
      .wave:nth-child(1) { animation-delay: 0s; }
      .wave:nth-child(2) { animation-delay: .15s; }
      .wave:nth-child(3) { animation-delay: .30s; }
      .wave:nth-child(4) { animation-delay: .45s; } /* in case you add more bars */
      .wave:nth-child(5) { animation-delay: .60s; }
    
      .loading-text { font-family:'Pacifico', cursive; font-size:1.5rem; margin:0; }
      #loading-screen .stars { position:absolute; inset:0; pointer-events:none; }
      #loading-screen .stars span {
        position:absolute; width:3px; height:3px; border-radius:9999px; animation: twinkle 2.4s infinite ease-in-out;
      }
      #loading-screen .stars span:nth-child(1){ top:15%; left:12%; animation-delay:.1s; }
      #loading-screen .stars span:nth-child(2){ top:8%; left:55%; animation-delay:.3s; }
      #loading-screen .stars span:nth-child(3){ top:28%; left:78%; animation-delay:.6s; }
      #loading-screen .stars span:nth-child(4){ bottom:20%; left:30%; animation-delay:.9s; }
      #loading-screen .stars span:nth-child(5){ bottom:14%; right:12%; animation-delay:1.2s; }
    
      /* New wavy keyframes */
      @keyframes waveMove {
        0%   { transform: scaleY(0.5) rotateZ(-2deg); }
        25%  { transform: scaleY(1.2) rotateZ( 2deg); }
        50%  { transform: scaleY(0.7) rotateZ(-3deg); }
        75%  { transform: scaleY(1.1) rotateZ( 3deg); }
        100% { transform: scaleY(0.5) rotateZ(-2deg); }
      }
    
      @keyframes twinkle {
        0%,100%{ opacity:.2; transform: scale(.8);}
        50%{ opacity:1; transform: scale(1);}
      }
    </style>
    

    <!-- 3) Define hide function EARLY -->
    <script>
      window.__hideLoader__ = function () {
        var el = document.getElementById("loading-screen");
        if (!el) return;
        el.classList.add("hidden");
        setTimeout(function(){ el.remove(); }, 500);
      };
    </script>
  </head>

  <body>
    <!-- LOADING SCREEN -->
    <!-- NOTE: removed inline dark background -->
    <div id="loading-screen">
      <div class="loader-container">
        <div class="wave-loader">
          <div class="wave"></div>
          <div class="wave"></div>
          <div class="wave"></div>
          <div class="wave"></div>
          <div class="wave"></div>
        </div>
        <p class="loading-text">Loading coastal vibes âœ¨</p>
      </div>
      <div class="stars">
        <span></span><span></span><span></span><span></span><span></span>
      </div>
    </div>

    <!-- APP MOUNT -->
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
